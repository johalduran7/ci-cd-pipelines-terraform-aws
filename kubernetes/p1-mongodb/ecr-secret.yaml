apiVersion: v1
kind: Secret
metadata:
  name: ecr-secret
  annotations:
    kubernetes.io/dockerconfigjson: ""
type: kubernetes.io/dockerconfigjson
data:
  .dockerconfigjson: eyJwYXlsb2FkIjoicDZmQVEyM1p5SWdRMzIyd0ZLYTU0aERFNGEra0lLd1IyL3BGendqSks0MEFlQkRvTHdXdUk2cThUL0NvNHlXWitlbHZzTml4NUUzcmJ4ZlJXY3h3dDNRNGxhT3l3aDZqcklTQzg1bUtkN20yWVFsckpHVEdrazk2VmhKNC9TU1NiVm94YnFVNkdoWm5zWWg3RktYNUFoazhibXVhellKSGtSS01jaWZqM0ZhS04wSU5RVDd2b3dKNGdGZDBlNnBuUG81cXB4eVM4ZFh1S0U0Wlp3MTF1UjVJU25PSnhYK05GUmxZSnYzQUhsZ2NqY1AyTEFIYkFvNEdnVFdhTTRvVXJ1dkpMZjgwa2pxSHFadmI1TVZTcVlDd0RCeldnS1FzNCtYcnNOaDdYdlhsSEdJRHlCTEtaTGVQZ21RdjVzVFJzNUk1SGUxbzRkUEIyZE9VMHc5Z2lvS3lPeEgrQ2w3cXYyS0Z1eTlUQmxzaUpOY3RkZXJTUzhqbG5hcDhGQmlMMlo3SkNzejdraWVGRWs1QXUybHoxNHl2R0IzZ3loVkE0YlpobEFxRlc1MjUwTGhDK0xsYlpRWEpiTnNDaGZxY2xma0tlejduRHh3SHhaR0NzRGtyTThHUzRDNUllYW1ialZvOWhIUnFhcnFQY044ZzZVMmFkUGdKaXpsOWtuRXhXVzd1cnBVVDk5NCtTb0U4R1pvUUNrZExDQy9pMHFnRzFvSzh0SDU2cEZ3cmVzaWtMT1ZNRVB1cUJXRWk4NTJ2U3FjUVFOb1JlL2YwODVUZUpUMXVDa1Awa3FScmt5N0JqRmJIVllQbHVrSi96bDBBNWZjT25CNnZVMWJibHJFY09adUJTSXFjZGxWU25JRy9IZGlTQ0pZRGwwc2ovVmhBR3JFTlhnT2xWWGdqYkRaVlphSXg3dlh1Rm5CdS9JYWhXMTFCTy9GTTdPcU1JMERmWS9ORDViQmJnYmZhMkliWWxaNi9KZ1E2MlRtaVBCTnZ1SUx4SG5DelNmY2thZVJkQU9Ib1V5ZUxLQkFQdTVVRWxHVWpkVFY3am56SzV3bzg3T1N6bDBvZXg5SEFZRWtrOWlya3Jnb3VML0ErYjdJZEFwaDNIdG5Udjc3eFhIL2YzS1NRMEdRUjNxTlp2Y0RMUTRiZ2R3dTYzeUJiZnVacXo0dTZuRjFnV0JDaWUzR1ZvYjd3MGhMRVdIdFhjVXlqTk1QMDNIbGtWT3g4ajRDOWJYMHU0RnpNczBCTGlIYnZxemdtTEM5UnA1VzA3S1lhT2piR2pVY2ZyQ1VOZXB2QzBsM1dldGtvSlNXVm43WEpINVhULzh1bVdiQXFZR0RYTFY0SlBSZ3NyamRHZlR3Y1h4and3djB2bFVDdCIsImRhdGFrZXkiOiJBUUVCQUhod20wWWFJU0plUnRKbTVuMUc2dXFlZWtYdW9YWFBlNVVGY2U5UnE4LzE0d0FBQUg0d2ZBWUpLb1pJaHZjTkFRY0dvRzh3YlFJQkFEQm9CZ2txaGtpRzl3MEJCd0V3SGdZSllJWklBV1VEQkFFdU1CRUVEREdFTUVsVS93VGdNdktCYmdJQkVJQTdOZ2pvcFdETFFrTEZEQldJYVBPSTdxWFNPWmtQUWdFZmtFVUZZK2dFZlgyZGg4RkZCNFdYcDlIZ3RQSGpqUzJTRDJ1Vm9ySlY4TDdJSjc0PSIsInZlcnNpb24iOiIyIiwidHlwZSI6IkRBVEFfS0VZIiwiZXhwaXJhdGlvbiI6MTcyNTU5NjU0NH0=

# replacement of the command:
# aws ecr get-login-password --region us-east-1 | kubectl create secret docker-registry ecr-secret --docker-server=948586925757.dkr.ecr.us-east-1.amazonaws.com --docker-username=AWS --docker-password=$(aws ecr get-login-password --region us-east-1)

# the field .dockerconfigjson is generated as follows:
#aws ecr get-login-password --region us-east-1 | base64


# aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 948586925757.dkr.ecr.us-east-1.amazonaws.com